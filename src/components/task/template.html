<div class="row no-gutters p-3 border border-bottom-0 task">
  <div class="col-auto d-flex align-items-center">
    <div class="d-inline-flex flex-column mr-2 sorting-btns btn-todo">
      <span class="fa fa-arrow-up mb-1"></span>
      <span class="fa fa-arrow-down"></span>
    </div>
    <input name="done" type="checkbox" ng-checked="$ctrl.task.done" ng-click="$ctrl.toggleDone($event)">
  </div>

  <div class="col-8 col-md-9 pl-3 break-word">
    <span ng-class="{ completed: $ctrl.task.done }">
      {{ $ctrl.task.name }}
    </span>
    <span class="d-block small" ng-if="$ctrl.task.deadline && !$ctrl.task.done" ng-class="$ctrl.deadlineClass()">
      {{ $ctrl.task.deadline | date:'dd/MM/yyyy HH:mm' }}
    </span>
  </div>

  <div class="col text-right task-btns">
    <span class="color-todo" ng-if="$ctrl.countComments()">
      {{ $ctrl.countComments() }}
    </span>
    <span class="fa fa-comment fa-fw btn-todo" ng-click="$ctrl.openComments()"></span>
    <span class="fa fa-clock-o fa-fw ml-1 btn-todo" ng-click="$ctrl.togglePopover()"></span>
    <span class="fa fa-pencil fa-fw ml-1 btn-todo" ng-click="$ctrl.taskContainer.toggleEditMode()"></span>
    <span class="fa fa-trash-o fa-fw ml-1 btn-todo" ng-click="$ctrl.openDeleteModal()"></span>
  </div>

  <div class="toggle deadline-popover" ng-if="$ctrl.popoverOpened">
    <tdl-deadline-popover
      task="$ctrl.task"
      update-task="$ctrl.updateTask({ params: params })"
      on-close="$ctrl.togglePopover()"
    ></tdl-deadline-popover>
  </div>
</div>
